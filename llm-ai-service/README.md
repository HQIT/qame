# LLM AI Service

åŸºäºå¤§è¯­è¨€æ¨¡å‹(LLM)çš„æ¸¸æˆAIå®¢æˆ·ç«¯æœåŠ¡ï¼Œå¯ä½œä¸ºå¤–éƒ¨AIå¼€å‘è€…çš„å‚è€ƒå®ç°ã€‚

## ğŸ¯ æ¦‚è¿°

è¿™æ˜¯ä¸€ä¸ªæ ‡å‡†çš„AIå®¢æˆ·ç«¯å®ç°ï¼Œå±•ç¤ºå¦‚ä½•ï¼š
- å®ç°ç»Ÿä¸€çš„ `/move` æ¥å£
- ä¸ ai-manager è¿›è¡Œé€šä¿¡
- é›†æˆå¤§è¯­è¨€æ¨¡å‹è¿›è¡Œæ¸¸æˆå†³ç­–

å¤–éƒ¨å¼€å‘è€…å¯ä»¥å‚è€ƒæ­¤å®ç°ï¼Œä½¿ç”¨ä»»ä½•æŠ€æœ¯æ ˆåˆ›å»ºè‡ªå·±çš„AIå®¢æˆ·ç«¯ã€‚

## ğŸš€ å¿«é€Ÿå¯åŠ¨

### 1. å®‰è£…ä¾èµ–
```bash
npm install
```

### 2. é…ç½®ç¯å¢ƒå˜é‡
```bash
cp env.template .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œå¡«å…¥ä½ çš„LLM APIé…ç½®
```

### 3. å¯åŠ¨æœåŠ¡
```bash
npm start
# æˆ–å¼€å‘æ¨¡å¼
npm run dev
```

æœåŠ¡å°†åœ¨ `http://localhost:3003` å¯åŠ¨

## ğŸ“‹ APIæ¥å£

### å¥åº·æ£€æŸ¥
```
GET /health
```

### AIç§»åŠ¨æ¥å£
```
POST /move
Content-Type: application/json

{
  "game_type": "tic-tac-toe",
  "match_id": "match-123",
  "player_id": "0", 
  "game_state": {
    "cells": [null, "X", null, "O", null, null, null, null, null]
  },
  "valid_moves": [0, 2, 4, 5, 6, 7, 8]
}
```

**å“åº”:**
```json
{
  "move": 4,
  "confidence": 0.8,
  "thinking_time": 1250,
  "metadata": {
    "algorithm": "llm-based",
    "model": "gpt-3.5-turbo"
  }
}
```

## ğŸ® æ”¯æŒçš„æ¸¸æˆ

- **tic-tac-toe**: äº•å­—æ£‹

å¯ä»¥é€šè¿‡æ‰©å±• `src/handlers/` ç›®å½•æ·»åŠ æ›´å¤šæ¸¸æˆæ”¯æŒã€‚

## ğŸ—ï¸ æ¶æ„è¯´æ˜

```
src/
â”œâ”€â”€ index.js              # ä¸»æœåŠ¡å™¨æ–‡ä»¶
â”œâ”€â”€ services/
â”‚   â””â”€â”€ LLMAIService.js    # LLMè°ƒç”¨æœåŠ¡
â””â”€â”€ handlers/
    â”œâ”€â”€ gameHandlers.js    # æ¸¸æˆå¤„ç†å™¨æ˜ å°„
    â””â”€â”€ ticTacToeHandler.js # äº•å­—æ£‹å¤„ç†å™¨
```

## ğŸ”§ è‡ªå®šä¹‰å¼€å‘

### æ·»åŠ æ–°æ¸¸æˆæ”¯æŒ

1. åœ¨ `src/handlers/` ä¸‹åˆ›å»ºæ–°çš„æ¸¸æˆå¤„ç†å™¨
2. å®ç° `getMove(llmAI, gameState, validMoves, metadata)` æ–¹æ³•
3. åœ¨ `gameHandlers.js` ä¸­æ³¨å†Œæ–°å¤„ç†å™¨

### æ›¿æ¢AIç®—æ³•

ä½ å¯ä»¥å®Œå…¨æ›¿æ¢LLMéƒ¨åˆ†ï¼Œä½¿ç”¨ä»»ä½•AIç®—æ³•ï¼š
- è§„åˆ™å¼•æ“
- æ·±åº¦å­¦ä¹ æ¨¡å‹
- æœç´¢ç®—æ³•(minimaxç­‰)
- å¼ºåŒ–å­¦ä¹ æ¨¡å‹

åªéœ€ä¿æŒ `/move` æ¥å£ä¸å˜å³å¯ã€‚

## ğŸ³ Dockeréƒ¨ç½²

```bash
docker build -t my-ai-client .
docker run -p 3003:3003 --env-file .env my-ai-client
```

## ğŸ“ åœ¨å¹³å°ä¸­æ³¨å†Œ

1. å¯åŠ¨ä½ çš„AIæœåŠ¡
2. åœ¨æ¸¸æˆå¹³å°çš„AIç®¡ç†åå°é€‰æ‹©"å¤–éƒ¨AI"
3. å¡«å…¥ä½ çš„æœåŠ¡ç«¯ç‚¹: `http://your-server:3003`
4. é€‰æ‹©æ”¯æŒçš„æ¸¸æˆ
5. ä¿å­˜é…ç½®

## ğŸ¤ å¼€å‘è€…ç¤¾åŒº

æ¬¢è¿æäº¤ä½ çš„AIå®ç°åˆ°ç¤¾åŒºï¼š
- åˆ†äº«æœ‰è¶£çš„AIç­–ç•¥
- è´¡çŒ®æ–°æ¸¸æˆæ”¯æŒ
- ä¼˜åŒ–æ€§èƒ½å’Œå‡†ç¡®æ€§

## ğŸ“– æ›´å¤šèµ„æº

- [æ¸¸æˆå¹³å°APIæ–‡æ¡£](../docs/)
- [AIå¼€å‘æœ€ä½³å®è·µ](../docs/ai-development.md)
- [ç¤ºä¾‹AIå®ç°](../examples/)
